
<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Inruilwaarde Fietsen</title>
  <link rel="manifest" href="./manifest.webmanifest">
  <meta name="theme-color" content="#0078D7">
  <link rel="stylesheet" href="./styles.css">
</head>

<body>

<!-- =====================================================
     FSID INSTALLATIE / ABONNEMENT GATE
     ===================================================== -->
<script>
const STORAGE_KEY = "fsid_install_activated";
const META_KEY = "fsid_install_meta";

/* ✅ INSTALLATIECODES (volledige set) */
const INSTALL_CODES = [
  "FSID-26KV-4UWN-E9MV","FSID-279Y-BKN3-S4WD","FSID-2C7K-BZTH-2JFY",
  "FSID-2C8R-SC9T-3XC6","FSID-2HPR-5KB4-HGE4","FSID-2JV9-T6W3-6S7V",
  "FSID-2N67-MY9U-W6F3","FSID-2U84-WNCE-8569","FSID-2V5Y-4PGX-GBDA",
  "FSID-2V6B-V8SX-RQK4","FSID-2YHR-UP7G-CA3N","FSID-2Z9D-BG4F-ZQPG",
  "FSID-34QH-C93Z-QHS5","FSID-37MH-5CW2-CJEH","FSID-3H9W-T2GS-MQZD",
  "FSID-3J9R-SQTA-E48B","FSID-3REX-PWF3-PXGT","FSID-3T2E-F5XB-5W8P",
  "FSID-48J7-7ZWA-WP9S","FSID-4A3H-3M97-H6SU",
  "FSID-53XE-VRPC-2GMX","FSID-57TC-EHJR-VK4B","FSID-5ASB-K5TN-MQW3",
  "FSID-5JZR-BHKQ-Z8F9","FSID-5N7T-CASV-UABS","FSID-5RPJ-TM6H-SKVD",
  "FSID-5TDN-C6AN-YW3J","FSID-5W4H-6YAV-CFU7","FSID-5Z36-DPXV-JXFD",
  "FSID-5ZTF-ZSWP-9FJR","FSID-ZWAM-BJ5W-BCMF","FSID-ZY9J-WJR4-RWAD"
];

try {
  if (localStorage.getItem(STORAGE_KEY) === "1") {
    // ✅ al geactiveerd
  } else {
    document.documentElement.innerHTML = `
<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Installatie vereist</title>
<style>
body{font-family:system-ui;padding:24px;max-width:640px;margin:auto}
.card{border:1px solid #ddd;border-radius:12px;padding:24px}
input{width:100%;padding:10px;font-size:16px;margin-top:10px}
button{margin-top:12px;padding:12px 18px;
background:#0078D7;color:#fff;border:none;border-radius:6px}
</style>
</head>
<body>
<div class="card">
<h2>Installatiecode vereist</h2>

<p>Deze applicatie is uitsluitend beschikbaar met een <b>jaarabonnement</b>.</p>

<button onclick="requestCode()">Vraag installatiecode aan</button>
<hr>

<input id="dealerNameInput" placeholder="Naam dealer / bedrijf *">
<input id="codeInput" placeholder="Voer installatiecode in">

<label>
<input type="checkbox" id="agreeCheckbox">
Ik ga akkoord met het jaarabonnement
</label>

<button onclick="activateApp()">Activeer applicatie</button>
</div>

<script>
function requestCode(){
  location.href =
  "mailto:info@fietsserviceid.nl?subject=" +
  encodeURIComponent("Aanvraag jaarabonnement Inruilwaarde‑calculator") +
  "&body=" + encodeURIComponent(
\`Bedrijfsnaam:
Adres:
Postcode / Plaats:
KvK:
BTW:
Contactpersoon:
E-mail:
Aantal installaties:\`
);}
function activateApp(){
  const dealer=document.getElementById("dealerNameInput").value.trim();
  const code=document.getElementById("codeInput").value.toUpperCase().trim();
  const agree=document.getElementById("agreeCheckbox").checked;

  if(!dealer) return alert("Dealernaam verplicht");
  if(!agree) return alert("Akkoord vereist");
  if(!INSTALL_CODES.includes(code)) return alert("Ongeldige code");

  localStorage.setItem("${STORAGE_KEY}","1");
  localStorage.setItem("${META_KEY}",JSON.stringify({
    dealer:dealer,code:code,activatedAt:new Date().toISOString()
  }));
  location.reload();
}
</script>
</body>
</html>`;
    throw new Error("Installatie vereist");
  }
} catch(e){}
</script>

<!-- =====================================================
     JOUW ORIGINELE APP (ONGEWIJZIGD)
     ===================================================== -->

<header>
 ruilwaarde-calculator</h1>
  <button id="installBtn" hidden>Installeer app</button>
</header>

<main>
  <!-- ✅ jouw volledige bestaande content -->
</main>

<footer>
  <small>© <span id="year"></span> Inruilwaarde Fietsen By FsiD BV</small><br>
  <small style="font-size: 11px; color: #666;">
    Disclaimer: Fiets Service ID is niet aansprakelijk voor de weergegeven inruilprijs.
    Alle waarden zijn indicatief.
  </small>
</footer>

./app.js</script>
<script>
document.getElementById("year").innerText = new Date().getFullYear();
if('serviceWorker' in navigator){
  navigator.serviceWorker.register('./sw.js');
}
</script>

</body>
</html>
