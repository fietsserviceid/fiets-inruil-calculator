
<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Fiets Inruil Calculator</title>

  <style>
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      margin: 0;
      background: #f5f7fa;
      color: #222;
    }
    header, footer {
      background: #fff;
      padding: 16px 20px;
      border-bottom: 1px solid #ddd;
    }
    footer {
      border-top: 1px solid #ddd;
      border-bottom: none;
      text-align: center;
      font-size: 12px;
      color: #666;
    }
    main {
      max-width: 900px;
      margin: 24px auto;
      padding: 0 16px;
    }
    .card {
      background: #fff;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,.06);
    }
    label {
      display: block;
      margin-top: 12px;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      font-size: 16px;
    }
    button {
      background: #0078D7;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #005fa3;
    }
    .result {
      font-size: 22px;
      font-weight: 600;
      margin-top: 10px;
    }
  </style>
</head>

<body>

<!-- ================= INSTALLATIE-GATE (IIFE, GEEN LOSSE return) ================= -->
<script>
(function () {
  const STORAGE_KEY = "fsid_install_activated";
  const META_KEY    = "fsid_install_meta";

  /* ✅ DEFINITIEVE LIJST INSTALLATIECODES (250) */
  const INSTALL_CODES = [
    'FSID-28UL-BRXL-Q8HL','FSID-2DGK-9EYC-U95C','FSID-2HNS-LQAE-UK2N','FSID-2HX4-EG7R-UACS',
    'FSID-2K7P-EAH4-FC6N','FSID-2MQE-YSZ4-32CY','FSID-2MT8-BA54-A9V5','FSID-39TE-2MGC-7QBF',
    'FSID-3H4L-Q62J-PSFQ','FSID-3HZR-PSDA-UAQK','FSID-3MJL-JPZ5-6BTR','FSID-3VA2-C2FP-THEB',
    'FSID-3Y7L-PMFB-7DBS','FSID-3YQV-J24Z-ESJP','FSID-45H3-P42F-LEGN','FSID-48CH-U8H3-75K4',
    'FSID-48P7-EWUN-TZUD','FSID-4FVS-WYRC-XGNT','FSID-4JFL-U9YX-AD73','FSID-4KWF-EC9F-C9MB',
    'FSID-4M7U-5VG3-LVDT','FSID-4MZJ-NM5E-CM6N','FSID-52TM-LHFA-QBL8','FSID-53TN-A8WF-3WY7',
    'FSID-5CD6-QPAG-EBNS','FSID-5JQ7-5LQZ-3FTW','FSID-5P9B-K8X2-76RW','FSID-5PSW-8QL4-RVZ2',
    'FSID-5S4B-N2VD-QRAE','FSID-5STB-9JFM-WYD4','FSID-5SYN-DUMN-PLFB','FSID-5TEU-6LTW-RMT8',
    'FSID-5V8D-PXCS-P6E7','FSID-5ZHF-YP6H-EXG2','FSID-65CG-C4BL-5KQE','FSID-6D4T-SNML-4X56',
    'FSID-6EK8-9HFW-Z6KS','FSID-6JDM-52CB-WRSM','FSID-6LN5-FZKV-ENPB','FSID-6NMX-JM6B-N6BQ',
    'FSID-6PMC-XYCS-YQAD','FSID-6XNK-GH6S-CDSX','FSID-726W-4593-LYZX','FSID-7BDU-NU2J-PKVY',
    'FSID-7DCR-QCZU-28XY','FSID-7MBP-KAES-3DLV','FSID-7NFZ-7KGH-3CNG','FSID-7RMW-4SVW-4HCV',
    'FSID-7S8L-XN5T-ALDS','FSID-7XAW-JYK5-DJSY','FSID-7XR6-FRVE-SA58','FSID-8AEC-D34H-83CM',
    'FSID-8LDY-T4Z6-6UDE','FSID-8M2R-AJRT-LDG8','FSID-8V4L-4WGX-B5L4','FSID-8WZX-L7R2-AKV3',
    'FSID-97G8-PUFZ-M7GD','FSID-9FWM-GH4N-NYZL','FSID-9H6G-Z5MK-6B9K','FSID-9HUJ-WSPR-CHWR',
    'FSID-9REK-HVMJ-59SU','FSID-9X24-U7RF-GWKR','FSID-9ZQJ-MWBP-EZRT','FSID-AE9L-T9MF-UMY6',
    'FSID-AUMH-7QPG-6358','FSID-B2T4-ZJ8F-PTNX','FSID-BAJD-QGUH-ZEKA','FSID-BHN8-B2ZJ-JYPS',
    'FSID-BL5Z-C4AB-HG6K','FSID-C3SR-XPWG-47SC','FSID-C4K9-VXD7-56SJ','FSID-C4L8-WTUX-QJWT',
    'FSID-CEA8-9U4E-3RBP','FSID-CMAG-YW3A-PKGR','FSID-CMTB-SLE6-FWJG','FSID-CNM6-VA6W-W9DY',
    'FSID-CQD8-N4Y9-3TVM','FSID-CRHJ-98KM-Y369','FSID-CVP8-4L9A-7ZFP','FSID-CW3R-VNR3-EDNT',
    'FSID-CWL3-FZUR-SQWR','FSID-DA56-FZ5W-DXY8','FSID-DAP2-7D3U-YL6C','FSID-DN35-B47M-25YL',
    'FSID-DS8V-U9CF-H7V4','FSID-DVKE-B5TH-PZJC','FSID-DXKF-CJPR-7TCJ','FSID-E7Q8-79VP-8SZP',
    'FSID-EBRH-VEHK-SQA8','FSID-ERVZ-JE9F-8D4T','FSID-ETNZ-C8RT-25PD','FSID-EUGB-8YWN-EJWN',
    'FSID-EV86-D68A-QL6U','FSID-F9BC-QTAX-LPF3','FSID-FBPM-X9R4-RXT9','FSID-FH5L-NELK-ZND5',
    'FSID-FJPN-RWE7-4ZS7','FSID-FLQU-W9HQ-JADG','FSID-FLZX-P6C9-SG83','FSID-FMJV-FPZ5-K46D',
    'FSID-FQ9J-5ZQA-9MK2','FSID-FT45-UBD5-H4MP','FSID-FWVB-ANXW-UCQZ','FSID-G4TK-ZGS9-42TB',
    'FSID-G98K-CVD2-M8B6','FSID-G9TF-Q3UL-T3NP','FSID-GA8F-9374-M8A6','FSID-GJWE-JNXG-WSA2',
    'FSID-GKF6-F54Y-75VQ','FSID-GLFR-MCZA-SGKC','FSID-GPTV-32W9-URLS','FSID-GQYD-AJK2-EN8V',
    'FSID-GTXW-9AJM-KFS9','FSID-H5Q6-W5N8-VP5Z','FSID-H5S4-VKCL-DGVR','FSID-H9AE-C53L-UK28',
    'FSID-H9WU-G4JQ-PN5G','FSID-HTRW-URH4-74UW','FSID-HZMS-C36W-N36C','FSID-J2RF-Y3J8-BX8T',
    'FSID-J9NF-NFDJ-UW8G','FSID-JHLQ-SC6K-S3MN','FSID-JHUF-ZKVD-FVC3','FSID-JHY5-AMFT-9DBL',
    'FSID-JME3-UWA3-T3AK','FSID-JTR5-RYUW-QX26','FSID-JUFQ-L2KD-L4F7','FSID-JYDB-XLV5-7DT8',
    'FSID-KC4F-YFKZ-BQSM','FSID-KEG5-DAB5-FBDH','FSID-KEHT-FAQ2-ZTKG','FSID-KFYT-LMRK-DKGQ',
    'FSID-KRQ5-TRGC-PDNE','FSID-KU8D-YB46-Q8RA','FSID-KWC6-SKDF-UTM2','FSID-KXR9-GFZ4-8HLV',
    'FSID-L58P-CL9H-EABC','FSID-L7QY-4TQB-M8UG','FSID-LBAY-PUSY-ST9J','FSID-LCGQ-AFYS-T5KL',
    'FSID-LR4K-CRMH-3CQU','FSID-LWEB-XE72-5EYR','FSID-LXND-DE4T-YENP','FSID-LY82-YGCR-TSYD',
    'FSID-M26V-Q8LR-63GS','FSID-M4Y6-SMVJ-6ZBK','FSID-MA36-9HQ7-6KWL','FSID-MA3J-N8ZH-VYCM',
    'FSID-MD37-XYSD-Z9B3','FSID-MEBC-AFN7-SM9X','FSID-MH52-C5YA-AU9X','FSID-MKW3-CWTJ-NAL9',
    'FSID-MPFX-AFL6-EC45','FSID-N3P2-958T-2W7K','FSID-NEXS-AQMS-J4SR','FSID-NLXV-T53Q-4B7W',
    'FSID-NUVC-B6UG-6ZYW','FSID-NVRC-XSKP-NJSR','FSID-NYUW-JTY9-XWMP','FSID-NYZB-KR3L-V5W4',
    'FSID-NZGX-ENF6-4MZP','FSID-P27L-LEPD-TGMA','FSID-P5MF-5VSW-TDKL','FSID-P7WU-M4ZB-6EKN',
    'FSID-P9XA-FYQ3-2ZUG','FSID-PA6N-QV9L-MF7E','FSID-PB43-GJMT-CAU8','FSID-PC8D-7KXM-H2ZV',
    'FSID-PD7N-LM3E-KFZ2','FSID-PG2H-X4TA-PRUY','FSID-PJ6T-UY8E-V3RD','FSID-PK9V-2LQG-58RM',
    'FSID-PL4Q-5VZT-RM9X','FSID-PM8E-3HSC-L2QK','FSID-PP2C-A9UJ-Q3HT','FSID-PR6B-TY5Q-W4ZN',
    'FSID-PS7G-M8VR-ZH52','FSID-PV3J-EX4U-N6TA','FSID-PW6L-Z2DR-4CQM','FSID-PY8N-7WQF-U9GE',
    'FSID-Q27B-RF6L-5YVN','FSID-Q3AG-8NWC-4JUE','FSID-Q4DM-V9RX-7GLA','FSID-Q5EU-6HPT-CY9M',
    'FSID-Q6FG-2ZMU-NX8R','FSID-Q7HJ-Y4PA-M5LU','FSID-Q8JK-K2RB-S9FD','FSID-Q9LM-HT6E-4PVA',
    'FSID-QB3N-5WUZ-ET6C','FSID-QC6P-7VJD-A9RU','FSID-QE8R-M4LS-K2XJ','FSID-QF2S-X8KT-P3YD',
    'FSID-QG5T-P6RQ-9ZCE','FSID-QH7U-3YWP-L8SN','FSID-QJ9V-E2DF-T7KM','FSID-QK3W-N5GA-U4JP',
    'FSID-QL6X-C7HB-R2VT','FSID-QM8Y-D9JC-5WGR','FSID-QN2Z-J3KD-X7LP','FSID-QP5A-L6ME-8CRJ',
    'FSID-QQ7B-P9NF-2TUK','FSID-QR9C-U3PG-6VAM','FSID-QS3D-Z5QH-8NWL','FSID-QT6E-4RJK-M2PB',
    'FSID-QU8F-7SLM-R5DY','FSID-QW2G-9TNP-L3VA','FSID-QX5H-2URQ-Y6CM','FSID-QY7J-5VSU-D8KR',
    'FSID-QZ9K-8WTX-G4PA','FSID-R23A-6XVB-Q7LM','FSID-R45B-9YWC-2FNT','FSID-R67C-3AZD-5HOU',
    'FSID-R89D-6BED-7JPV','FSID-R2AF-8CFE-9LQW','FSID-R4BG-2DGF-M3SX','FSID-R6CH-5EHG-P6TY',
    'FSID-R8DJ-7FJH-S9UZ','FSID-RA2K-9GKH-4CWJ','FSID-RC5L-3HLM-7FYN','FSID-RE8M-6JMN-9HZO',
    'FSID-RF2N-8KNP-2JAP','FSID-RG5P-9LQP-5KBR','FSID-RH7Q-2MQR-8LCS','FSID-RJ9R-4NRV-3MDT',
    'FSID-RK3S-6PSW-6NEU','FSID-RL6T-8QTX-9OFV','FSID-RM8U-2RUZ-4PGW','FSID-RN2V-5SV2-7QHX',
    'FSID-RP5W-7TW3-9RIY','FSID-RQ7X-9UX4-2SJA','FSID-RS9Y-2VY5-5TKB','FSID-RT3Z-4WZ6-8ULC',
    'FSID-RU6A-6X17-BVMD','FSID-RW8B-8Y28-EWNE','FSID-RX2C-9Z39-HXPF','FSID-RY5D-3A4B-JYQG',
    'FSID-RZ7E-5B6C-LZRJ','FSID-S29F-7C7D-N2SK','FSID-S4BG-9D8E-P5TL','FSID-S6CH-2E9F-R8UM',
    'FSID-S8DJ-4FAG-TAXN','FSID-SA2K-6GBH-VBYQ','FSID-SC5L-8HCI-XDZ3','FSID-SE8M-9JDJ-ZE44',
    'FSID-SF2N-3KEK-2F55','FSID-SG5P-5LFL-5G66','FSID-SH7Q-7MGM-8H77','FSID-SJ9R-9NHN-9J88',
    'FSID-SK3S-2PJP-2K99','FSID-SL6T-4QKQ-3LAA','FSID-SM8U-6RLR-6MBB','FSID-SN2V-8SMS-8NCC',
    'FSID-SP5W-9TNT-9ODD','FSID-SQ7X-3UOU-2PEE','FSID-SS9Y-5VPV-5QFF','FSID-ST3Z-7WQW-7RGG',
    'FSID-SU6A-9XRX-9SHH','FSID-SW8B-2YSY-2TII','FSID-SX2C-4ZTZ-4UJJ','FSID-SY5D-6A14-6VKK',
    'FSID-SZ7E-8B25-8WLL','FSID-T29F-9C36-9XMM','FSID-T4BG-3D47-3YNN','FSID-T6CH-5E58-5ZOO',
    'FSID-T8DJ-7F69-7APP','FSID-TA2K-8G7A-8BQQ','FSID-TC5L-9H8B-9CRR','FSID-TE8M-2J9C-2DSS',
    'FSID-TF2N-4KAD-4ETE','FSID-TG5P-6LBE-6FUF','FSID-TH7Q-8MCE-8GVG','FSID-TJ9R-9NDF-9HWH',
    'FSID-TK3S-2PEF-2IXI','FSID-TL6T-4QFG-4JYJ','FSID-TM8U-6RGH-6KZK','FSID-TN2V-8SHJ-8L0L',
    'FSID-TP5W-9TIJ-9M1M','FSID-TQ7X-3UJK-3N2N','FSID-TS9Y-5VLK-5P3P','FSID-TT3Z-7WMK-7Q4Q',
    'FSID-TU6A-9XNL-9R5R','FSID-TW8B-2YOM-2S6S','FSID-TX2C-4ZPN-4T7T','FSID-TY5D-6AQP-6U8U',
    'FSID-TZ7E-8BRQ-8V9V','FSID-U29F-9CSR-9WAW','FSID-U4BG-3DT2-3XBX','FSID-U6CH-5EU3-5YCY',
    'FSID-U8DJ-7FV4-7ZDZ','FSID-UA2K-8GW5-8A10','FSID-UC5L-9HX6-9B21','FSID-UE8M-2JY7-2C32',
    'FSID-UF2N-4KZ8-4D43','FSID-UG5P-6L19-6E54','FSID-UH7Q-8M2A-8F65','FSID-UJ9R-9N3B-9G76',
    'FSID-UK3S-2P4C-2H87','FSID-UL6T-4Q5D-4I98','FSID-UM8U-6R6E-6JA9','FSID-UN2V-8S7F-8KB0',
    'FSID-UP5W-9T8G-9LC1','FSID-UQ7X-3U9H-3MD2','FSID-US9Y-5VAJ-5NE3','FSID-UT3Z-7WBK-7OF4',
    'FSID-UU6A-9XCL-9PG5','FSID-UW8B-2YDM-2QH6','FSID-UX2C-4ZFN-4RI7','FSID-UY5D-6AGN-6SJ8',
    'FSID-UZ7E-8BHO-8TK9'
  ];

  // ===== Activatiestatus lezen
  let activated = false;
  let meta = null;
  try {

  } catch (e) {
    activated = false;
    meta = null;
  }

  // ===== Niet geldig geactiveerd? Toon installatiescherm
  if (!activated || !meta || !meta.dealer || !meta.code) {
    try {
      localStorage.removeItem(STORAGE_KEY);
      localStorage.removeItem(META_KEY);
    } catch (e) {}

    document.body.innerHTML = `
      <main class="card" style="max-width:640px;margin:40px auto;">
        <h2>Installatie vereist</h2>
        <p>Deze applicatie vereist een jaarabonnement.</p>

        <label>Dealernaam
          <input id="dealer">
        </label>

        <label>Installatiecode
          <input id="code">
        </label>

        <label>
          <input type="checkbox" id="agree"> Ik ga akkoord met het jaarabonnement
        </label>

        <button id="activateBtn">Activeer</button>
      </main>
    `;

    document.getElementById("activateBtn").addEventListener("click", function () {
      const dealer = document.getElementById("dealer").value.trim();
      const code   = document.getElementById("code").value.trim().toUpperCase();
      const agree  = document.getElementById("agree").checked;

      if (!dealer || !agree || INSTALL_CODES.indexOf(code) === -1) {
        alert("Vul alles correct in");
        return;
      }

      localStorage.setItem(STORAGE_KEY, "1");
      localStorage.setItem(
        META_KEY,
        JSON.stringify({ dealer: dealer, code: code })
      );

      location.reload();
    });

    return; // ✅ correct: binnen IIFE
  }

})(); /* ← HEEL BELANGRIJK: sluit de IIFE */
</script>

<header>
  <h1>Inruilwaarde‑calculator</h1>
</header>

<main>
  <div class="card">
    <h2>Gegevens fiets</h2>

    <label>Nieuwprijs (€)
      <input type="number" id="price" value="2000">
    </label>

    <label>Leeftijd (jaren)
      <input type="number" id="age" value="5">
    </label>

    <label>Conditie
      <select id="condition">
        <option value="1">Uitstekend</option>
        <option value="0.7">Goed</option>
        <option value="0.5">Redelijk</option>
        <option value="0.3">Matig</option>
      </select>
    </label>

    <button onclick="calculate()">Bereken inruilwaarde</button>
    <div class="result" id="result">€ 0</div>
  </div>
</main>

<footer>
  © 2026 Inruilwaarde Fietsen – <span id="dealerFooter"></span>
</footer>

<script>
function calculate() {
  var price = Number(document.getElementById("price").value);
  var age = Number(document.getElementById("age").value);
  var condition = Number(document.getElementById("condition").value);

  var ageFactor = Math.max(0.1, 1 - (age * 0.12));
  var value = price * ageFactor * condition;

  document.getElementById("result").innerText = "€ " + Math.round(value);
}

// Dealernaam in footer
(function () {
  try {
    var meta = JSON.parse(localStorage.getItem("fsid_install_meta") || "null");
    if (meta && meta.dealer) {
      document.getElementById("dealerFooter").textContent = "Dealer: " + meta.dealer;
    }
  } catch (e) {}
})();
</script>

</body>
</html>
